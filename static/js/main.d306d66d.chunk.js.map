{"version":3,"sources":["Playground/hooks.tsx","Playground/context.tsx","Playground/Controls.tsx","Playground/Measure/index.tsx","Playground/Source.tsx","Playground/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["createStyle","alert","colors","text","background","trim","createBannerTemplate","height","style","icon","formattedHeight","updateIframeContent","document","template","headElement","querySelector","bodyElement","innerHTML","IFrame","styled","iframe","useMutateSvg","svg","useEffect","element","variant","variants","textContent","useLayoutEffect","BannerPreview","props","context","useContext","Context","useState","setDocument","ref","useRef","setSvg","node","current","contentDocument","actions","contentEditable","mutationObserver","MutationObserver","setText","observe","subtree","childList","characterData","disconnect","setAttribute","id","title","src","scrolling","frameBorder","innerRef","MIN_WIDTH","info","code","warning","error","React","createContext","ContextProvider","setVariant","banner","setHeight","setIframe","createElement","position","transform","border","body","appendChild","console","log","readyState","update","addEventListener","removeEventListener","removeChild","content","width","max","clientHeight","useHeight","theme","setTheme","useTheme","state","useMemo","Provider","value","children","Container","div","Select","select","Controls","htmlFor","name","onChange","event","target","map","Indicator","WidthIndicator","HeightIndicator","pre","Source","source","setSource","formatted","RowContainer","StripeAnimation","keyframes","AreaIndicator","anchor","Resizable","minWidth","Content","Measurer","bannerRef","rect","setRect","root","setRoot","resizeObserver","ResizeObserver","entries","entry","className","contentRect","getBoundingClientRect","contentHeight","toFixed","contentWidth","Root","Section","SectionTitle","h3","index","MarkdownExample","markdownExampleContent","Playground","href","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d306d66d.chunk.js","sourcesContent":["import React, {\n  ElementType,\n  FC,\n  forwardRef,\n  useCallback,\n  useContext,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport parse from \"html-react-parser\";\nimport { Context, Alert, variants, MIN_WIDTH, Variant } from \"./context\";\nimport styled, { css } from \"styled-components\";\nimport ReactDOMServer from \"react-dom/server\";\nimport ResizeObserver from \"resize-observer-polyfill\";\n\nexport const createStyle = (alert: Alert) =>\n  `\n.container {\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial,\n    sans-serif, Apple Color Emoji, Segoe UI Emoji;\n\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n\n  color: ${alert.colors.text};\n}\n.container::before {\n  content: \"\";\n\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  border-radius: 0.325rem;\n  background-color: ${alert.colors.background};\n}\n\n.icon {\n  font-size: 2em;\n  margin: 0 0.4em 0 0.5em;\n  transform: translateY(-0.06em);\n}\n\n.code {\n  display: inline-block;\n\n  font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\n  font-size: 0.85em;\n  font-weight: 600;\n\n  margin-bottom: -0.2em;\n  padding-top: 0.1em;\n  padding-bottom: 0.1em;\n  padding-right: 0.4em;\n  padding-left: 0.4em;\n\n  border-radius: 0.2em;\n  background: ${alert.colors.background};\n\n  mix-blend-mode: difference;\n  opacity: 0.9;\n  transform: translateY(-0.06em);\n}\n\n.text {\n  font-size: 1em;\n  margin-right: 0.75em;\n  line-height: 1.3;\n}\n\n.icon,\n.text {\n  mix-blend-mode: exclusion;\n}\n\n@media (max-width: 768px) {\n  .text {\n    font-size: 0.9em;\n  }\n\n  .icon {\n    font-size: 1.85em;\n    margin-left: 0.5em;\n    margin-right: 0.4em;\n  }\n}\n\n@media (max-width: 544px) {\n  .text {\n    font-size: 0.8em;\n  }\n\n  .icon {\n    font-size: 1.5em;\n    margin-left: 0.5em;\n    margin-right: 0.35em;\n  }\n}\n\n@media (max-width: 350px) {\n  .text {\n    font-size: 0.8em;\n    margin-left: 1em;\n  }\n\n  .icon {\n    display: none;\n  }\n}\n`.trim();\n\nexport const createBannerTemplate = (\n  height?: \"100%\" | number,\n  style = \"\",\n  icon = \"\",\n  text = \"\"\n) => {\n  let formattedHeight: string | number = height || \"0px\";\n\n  if (typeof formattedHeight === \"number\") {\n    formattedHeight = `${height}px`;\n  }\n\n  return `\n<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" width=\"100%\" height=\"${formattedHeight}\">\n  <foreignObject width=\"100%\" height=\"100%\">\n    <div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"root\">\n      <style>\n${style}\n      </style>\n\n      <div class=\"container\">\n        <span class=\"icon\">${icon}</span>\n        <p class=\"text\">${text}</p>\n      </div>\n    </div>\n  </foreignObject>\n</svg>\n  `;\n};\n\nconst updateIframeContent = (document: Document, template: string) => {\n  const headElement = document.querySelector(\"head\");\n  const bodyElement = document.querySelector(\"body\");\n\n  if (!headElement || !bodyElement) {\n    return;\n  }\n\n  if (!headElement.innerHTML) {\n    headElement.innerHTML = `\n      <style>\n        body {\n          margin: 0;\n          overflow-y: hidden;\n        }\n\n        ::selection {\n          background: rgba(0, 0, 0, 0.1);\n          color: inherit;\n        }\n\n        [contenteditable=\"true\"]:focus {\n          outline: none;\n        }\n      </style>\n    `;\n  }\n\n  bodyElement.innerHTML = template;\n};\n\nconst IFrame = styled.iframe`\n  width: 100%;\n  border: none;\n  position: absolute;\n  top: 0;\n`;\n\ninterface BannerPreviewProps {\n  innerRef: React.RefObject<HTMLIFrameElement>;\n}\n\nconst useMutateSvg = (\n  svg: SVGSVGElement | null,\n  alert: { text: string; variant: Variant }\n) => {\n  // Update variant colors\n  useEffect(() => {\n    if (svg) {\n      const element = svg.querySelector(\"svg style\");\n      const variant = variants[alert.variant];\n\n      if (element) {\n        element.innerHTML = createStyle(variant);\n      }\n    }\n  }, [svg, alert.variant]);\n\n  // Update variant icon\n  useEffect(() => {\n    if (svg) {\n      const element = svg.querySelector(\"svg .icon\");\n      const variant = variants[alert.variant];\n\n      if (element) {\n        element.textContent = variant.icon;\n      }\n    }\n  }, [svg, alert.variant]);\n\n  // Update variant text\n  useLayoutEffect(() => {\n    if (svg) {\n      const element = svg.querySelector(\"svg .text\");\n\n      if (element) {\n        if (element.innerHTML !== alert.text) {\n          element.innerHTML = alert.text;\n        }\n      }\n    }\n  }, [svg, alert.text]);\n};\n\nexport const BannerPreview: FC<BannerPreviewProps> = (props) => {\n  const context = useContext(Context);\n  const [document, setDocument] = useState<Document | null>(null);\n\n  const ref = useRef<HTMLIFrameElement>(null);\n  const [svg, setSvg] = useState<SVGSVGElement | null>(null);\n\n  useMutateSvg(svg, {\n    text: context.text,\n    variant: context.variant,\n  });\n\n  useEffect(() => {\n    const node = ref.current;\n    const iframe = node?.querySelector(\"iframe\");\n\n    setDocument(iframe?.contentDocument || null);\n  }, []);\n\n  useEffect(() => {\n    if (!document) {\n      return;\n    }\n\n    const template = createBannerTemplate();\n\n    updateIframeContent(document, template);\n\n    setSvg(document.querySelector(\"svg\"));\n  }, [document, context.actions]);\n\n  useEffect(() => {\n    if (!svg) {\n      return;\n    }\n\n    const text = svg.querySelector<HTMLParagraphElement>(\".text\");\n\n    if (!text) {\n      return;\n    }\n\n    text.contentEditable = \"true\";\n\n    const mutationObserver = new MutationObserver(() => {\n      context.actions.setText(text?.innerHTML || \"\");\n    });\n\n    const observerConfig: MutationObserverInit = {\n      subtree: true,\n      childList: true,\n      characterData: true,\n    };\n\n    mutationObserver.observe(text, observerConfig);\n\n    return () => {\n      mutationObserver.disconnect();\n    };\n  }, [svg, context.actions]);\n\n  // Update height\n  useEffect(() => {\n    if (svg) {\n      svg.setAttribute(\"height\", `${context.height}px`);\n    }\n  }, [svg, context.height]);\n\n  return (\n    <div ref={ref}>\n      <IFrame\n        id=\"banner\"\n        title=\"Banner\"\n        src=\"about:blank\"\n        scrolling=\"no\"\n        frameBorder=\"0\"\n        ref={props.innerRef}\n        style={{ height: context.height }}\n      />\n    </div>\n  );\n};\n\nexport const useHeight = (banner: { text: string; variant: Variant }) => {\n  const [height, setHeight] = useState(0);\n\n  const [iframe, setIframe] = useState<HTMLIFrameElement | null>(null);\n  const [svg, setSvg] = useState<SVGSVGElement | null>(null);\n\n  useMutateSvg(svg, banner);\n\n  useEffect(() => {\n    const element = document.createElement(\"iframe\");\n\n    element.style.position = \"fixed\";\n    element.style.transform = \"translate(-100vw)\";\n    element.style.border = \"none\";\n\n    document.body.appendChild(element);\n\n    setIframe(element);\n\n    if (!element.contentDocument) {\n      return;\n    }\n\n    const template = createBannerTemplate(\"100%\");\n\n    updateIframeContent(element.contentDocument, template);\n\n    console.log(element.contentDocument?.readyState);\n\n    const update = () => {\n      const document = element.contentDocument;\n\n      if (document && document.readyState === \"complete\") {\n        setSvg(document.querySelector(\"svg\"));\n      }\n    };\n\n    element.contentDocument.addEventListener(\"readystatechange\", update);\n\n    return () => {\n      element.contentDocument?.removeEventListener(\"readystatechange\", update);\n      document.body.removeChild(element);\n    };\n  }, []);\n\n  useLayoutEffect(() => {\n    if (iframe && svg) {\n      const content = svg.querySelector(\".root\");\n\n      iframe.style.width = `${MIN_WIDTH}px`;\n\n      const max = content?.clientHeight || 0;\n\n      setHeight(max);\n    }\n  }, [svg, iframe, banner]);\n\n  return height;\n};\n","import React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useHeight } from \"./hooks\";\n\nexport const MIN_WIDTH = 300;\n\nexport type Theme = \"dark\" | \"light\";\nexport type Variant = \"info\" | \"warning\" | \"error\";\n\nexport interface Alert {\n  icon: string;\n  colors: {\n    text: string;\n    code: string;\n    background: string;\n  };\n}\n\nexport const variants: Record<Variant, Alert> = {\n  info: {\n    icon: \"🛈\",\n    colors: {\n      text: \"#55687d\",\n      code: \"#79b8ff40\",\n      background: \"#79b8ff40\",\n    },\n  },\n  warning: {\n    icon: \"⚠\",\n    colors: {\n      text: \"#ef690c\",\n      code: \"#f67f182b\",\n      background: \"#ff963e40\",\n    },\n  },\n  error: {\n    icon: \"🗙\",\n    colors: {\n      text: \"#ff7b72\",\n      code: \"#ff938c47\",\n      background: \"#ff938c47\",\n    },\n  },\n};\n\ninterface ContextModel {\n  theme: Theme;\n  variant: Variant;\n  text: string;\n  height: number;\n  actions: {\n    setText: (text: string) => void;\n    setTheme: (theme: Theme) => void;\n    setVariant: (variant: Variant) => void;\n  };\n}\n\nexport const Context = React.createContext<ContextModel>(null as any);\n\nconst INITIAL_TEXT =\n  \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris!\";\n\nconst useTheme = () => {\n  const [theme, setTheme] = useState<ContextModel[\"theme\"]>(\"light\");\n\n  useEffect(() => {\n    document.body.setAttribute(\"data-theme\", theme);\n  }, [theme]);\n\n  return {\n    theme,\n    setTheme,\n  };\n};\n\nexport const ContextProvider: React.FC = (props) => {\n  const [text, setText] = useState(INITIAL_TEXT);\n  const [variant, setVariant] = useState<Variant>(\"warning\");\n\n  const height = useHeight({\n    text,\n    variant,\n  });\n\n  const { theme, setTheme } = useTheme();\n\n  const actions = useMemo(\n    () => ({\n      setText,\n      setTheme,\n      setVariant,\n    }),\n    [setTheme]\n  );\n\n  const state: ContextModel = {\n    theme,\n    height,\n    text,\n    variant,\n    actions,\n  };\n\n  return <Context.Provider value={state}>{props.children}</Context.Provider>;\n};\n","import React, { useContext, useRef } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { useMeasure } from \"react-use\";\nimport { UseMeasureRef } from \"react-use/lib/useMeasure\";\nimport { Context, Theme, Variant } from \"./context\";\n\nconst Container = styled.div`\n  /* padding: 24px 32px; */\n  /* border-radius: 0.325em; */\n\n  display: grid;\n  grid-auto-flow: column;\n  justify-content: flex-start;\n  grid-gap: 16px;\n\n  padding-top: 0.5rem;\n  padding-bottom: 1rem;\n\n  label {\n    display: block;\n    margin-bottom: 0.2em;\n    font-size: 0.75em;\n    opacity: 0.8;\n  }\n`;\n\nconst Select = styled.select`\n  padding: 5px 32px 5px 16px;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n  white-space: nowrap;\n  vertical-align: middle;\n  cursor: pointer;\n\n  user-select: none;\n  border: 1px solid;\n  border-radius: 6px;\n  appearance: none;\n\n  background: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjI1NXB4IiBoZWlnaHQ9IjI1NXB4IiB2aWV3Qm94PSIwIDAgMjU1IDI1NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjU1IDI1NTsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPGc+DQoJPGcgaWQ9ImFycm93LWRyb3AtZG93biI+DQoJCTxwb2x5Z29uIHBvaW50cz0iMCw2My43NSAxMjcuNSwxOTEuMjUgMjU1LDYzLjc1IAkJIi8+DQoJPC9nPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPC9zdmc+DQo=\")\n    no-repeat right;\n  background-size: 10px;\n  background-position: calc(100% - 12px);\n  color: var(--color-btn-text);\n  background-color: var(--color-btn-bg);\n  border-color: var(--color-btn-border);\n  box-shadow: var(--color-btn-shadow), var(--color-btn-inset-shadow);\n  transition: 0.2s cubic-bezier(0.3, 0, 0.5, 1);\n  transition-property: color, background-color, border-color;\n\n  text-transform: capitalize;\n  position: relative;\n\n  &:after {\n    margin-left: 4px;\n    opacity: 0.8;\n\n    display: inline-block;\n    width: 0;\n    height: 0;\n    vertical-align: middle;\n    content: \"▾\";\n    border-top-style: solid;\n    border-top-width: 4px;\n    border-right: 4px solid transparent;\n    border-bottom: 0 solid transparent;\n    border-left: 4px solid transparent;\n  }\n`;\n\nexport const Controls: React.FC = (props) => {\n  const context = useContext(Context);\n\n  const themes: Theme[] = [\"dark\", \"light\"];\n  const variants: Variant[] = [\"info\", \"warning\", \"error\"];\n\n  return (\n    <Container>\n      <div>\n        <label htmlFor=\"variant\">Variant</label>\n\n        <Select\n          name=\"variant\"\n          value={context.variant}\n          onChange={(event) =>\n            context.actions.setVariant(event.target.value as Variant)\n          }\n        >\n          {variants.map((variant) => (\n            <option key={variant} value={variant}>\n              {variant}\n            </option>\n          ))}\n        </Select>\n      </div>\n\n      <div>\n        <label htmlFor=\"theme\">Theme</label>\n\n        <Select\n          name=\"theme\"\n          value={context.theme}\n          onChange={(event) =>\n            context.actions.setTheme(event.target.value as Theme)\n          }\n        >\n          {themes.map((theme) => (\n            <option key={theme} value={theme}>\n              {theme}\n            </option>\n          ))}\n        </Select>\n      </div>\n    </Container>\n  );\n};\n","import React, {\n  IframeHTMLAttributes,\n  useCallback,\n  useContext,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport styled, { css, keyframes } from \"styled-components\";\nimport { useMeasure } from \"react-use\";\nimport { UseMeasureRef } from \"react-use/lib/useMeasure\";\nimport ResizeObserver from \"resize-observer-polyfill\";\n\nconst Indicator = styled.div`\n  opacity: 0.5;\n\n  user-select: none;\n\n  font-family: monospace;\n  font-weight: normal;\n  font-size: 0.8em;\n\n  &:before {\n    content: \"\";\n\n    position: absolute;\n    z-index: -1;\n\n    border: 1px dashed #bbbbbb;\n  }\n`;\n\nexport const WidthIndicator = styled(Indicator)<{ width: number }>`\n  padding-bottom: 2em;\n\n  display: flex;\n  justify-content: center;\n  position: relative;\n\n  &:before {\n    content: \"\";\n\n    left: 0;\n    right: 0;\n    bottom: 1em;\n\n    border-bottom: none;\n    border-top-left-radius: 0px;\n    border-top-right-radius: 0px;\n\n    height: 6px;\n  }\n`;\n\nexport const HeightIndicator = styled(Indicator)<{ height: number }>`\n  padding-right: 2.25em;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  height: ${(props) => props.height}px;\n\n  transform: translateX(-100%);\n\n  &:before {\n    content: \"\";\n\n    top: 0;\n    right: 1em;\n    bottom: 0;\n\n    border-right: none;\n    border-top-left-radius: 0px;\n    border-bottom-left-radius: 0px;\n\n    width: 6px;\n  }\n`;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport styled, { css } from \"styled-components\";\nimport { useMeasure } from \"react-use\";\nimport { UseMeasureRef } from \"react-use/lib/useMeasure\";\nimport { Context, Theme, Variant, variants } from \"./context\";\nimport { createBannerTemplate, createStyle } from \"./hooks\";\n\nconst Container = styled.pre`\n  padding: 18px 26px;\n  border-radius: 0.325em;\n\n  font-size: 0.6rem;\n  opacity: 0.65;\n  /* white-space: initial; */\n\n  background-color: var(--subtle-background-color);\n  user-select: all;\n`;\n\nexport const Source: React.FC = (props) => {\n  const context = useContext(Context);\n  const [source, setSource] = useState(\"\");\n\n  useEffect(() => {\n    const variant = variants[context.variant];\n\n    const style = createStyle(variant);\n    const template = createBannerTemplate(\n      context.height,\n      style,\n      variant.icon,\n      context.text\n    );\n\n    const formatted = template.trim();\n\n    setSource(formatted);\n  }, [context.height, context.text, context.variant]);\n\n  return <Container>{source}</Container>;\n};\n","import React, {\n  IframeHTMLAttributes,\n  useCallback,\n  useContext,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport styled, { css, keyframes } from \"styled-components\";\nimport { useMeasure } from \"react-use\";\nimport { UseMeasureRef } from \"react-use/lib/useMeasure\";\nimport { Controls } from \"./Controls\";\nimport { Context, MIN_WIDTH } from \"./context\";\nimport { BannerPreview, createBannerTemplate, useHeight } from \"./hooks\";\nimport ResizeObserver from \"resize-observer-polyfill\";\nimport { HeightIndicator, WidthIndicator } from \"./Measure\";\nimport { Source } from \"./Source\";\n\nconst RowContainer = styled.div`\n  box-sizing: content-box;\n\n  display: flex;\n  flex-direction: column;\n  /* align-items: center; */\n  /* justify-content: center; */\n\n  margin: 0 auto;\n  margin-top: 5vmin;\n\n  /* border-left: 1px dashed var(--subtle-border-color); */\n\n  display: grid;\n  grid-auto-flow: row;\n  justify-content: start;\n  grid-gap: 3rem;\n`;\n\nconst StripeAnimation = keyframes`\n  0% {\n    background-position-x: 0;\n  }\n\n  100% {\n    background-position-x: 28px;\n  }\n`;\n\nconst AreaIndicator = styled.div<{ anchor: number }>`\n  position: absolute;\n  top: ${(props) => `${props.anchor}px`};\n  left: 0;\n  right: 0;\n  bottom: 0;\n\n  display: flex;\n  justify-content: center;\n\n  mix-blend-mode: difference;\n\n  --background-color-1: #ffffff05;\n  --background-color-2: #ffffff0d;\n\n  background: repeating-linear-gradient(\n    45deg,\n    var(--background-color-1),\n    var(--background-color-1) 10px,\n    var(--background-color-2) 10px,\n    var(--background-color-2) 20px\n  );\n\n  background-size: 28px;\n  animation: ${StripeAnimation} 5s linear infinite;\n  will-change: background-position;\n\n  /* display: none !important; */\n  /* background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8' viewBox='0 0 8 8'%3E%3Cg fill='%23dc21f2' fill-opacity='0.21'%3E%3Cpath fill-rule='evenodd' d='M0 0h4v4H0V0zm4 4h4v4H4V4z'/%3E%3C/g%3E%3C/svg%3E\"); */\n  /* opacity: 0.75; */\n`;\n\nconst Resizable = styled.div<{ minWidth: number }>`\n  width: 600px;\n  min-width: ${(props) => `${props.minWidth}px`};\n\n  overflow: auto visible;\n  resize: horizontal;\n  position: relative;\n`;\n\nconst Content = styled.div`\n  display: flex;\n  width: 100%;\n  position: relative;\n`;\n\nconst Measurer: React.FC = (props) => {\n  const context = useContext(Context);\n\n  const bannerRef = useRef<HTMLIFrameElement>(null);\n\n  const [rect, setRect] = useState<DOMRect | null>(null);\n  const [root, setRoot] = useState<Element | null>(null);\n\n  useLayoutEffect(() => {\n    setRect(null);\n    setRoot(null);\n\n    const iframe = bannerRef.current;\n    const document = iframe?.contentDocument;\n\n    if (!document) {\n      return;\n    }\n\n    setRoot(document.querySelector(\".root\"));\n\n    const mutationObserver = new MutationObserver(() => {\n      setRoot(document.querySelector(\".root\"));\n    });\n\n    const observerConfig: MutationObserverInit = {\n      subtree: true,\n      childList: true,\n      characterData: true,\n    };\n\n    mutationObserver.observe(document.body, observerConfig);\n\n    return () => {\n      mutationObserver.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!root) {\n      return;\n    }\n\n    const resizeObserver = new ResizeObserver(\n      (entries: ResizeObserverEntry[]) => {\n        for (const entry of entries) {\n          if (entry.target.className !== \"root\") {\n            continue;\n          }\n\n          setRect(entry.contentRect as DOMRect);\n        }\n      }\n    );\n\n    setRect(root.getBoundingClientRect());\n\n    resizeObserver.observe(root);\n\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [root]);\n\n  const contentHeight = +context.height.toFixed(0) || 0;\n  const contentWidth = +(rect?.width.toFixed(0) || 0);\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <HeightIndicator height={contentHeight}>\n        {contentHeight}px\n      </HeightIndicator>\n\n      <Resizable minWidth={MIN_WIDTH}>\n        <WidthIndicator width={contentWidth}>{contentWidth}px</WidthIndicator>\n\n        <Content style={{ height: context.height }}>\n          <AreaIndicator anchor={rect?.height || 0} />\n          <BannerPreview innerRef={bannerRef} />\n        </Content>\n      </Resizable>\n    </div>\n  );\n};\n\nconst Root = styled.div`\n  padding: 0 32px;\n  padding-left: 128px;\n`;\n\nconst Section = styled.div`\n  border-left: 1px dotted var(--subtle-border-color);\n  padding-top: 1vh;\n  max-width: 600px;\n`;\n\nconst SectionTitle = styled.h3<{ index: React.ReactText }>`\n  position: relative;\n\n  margin: 0;\n  margin-bottom: 1rem;\n  color: var(--heading-color-primary);\n\n  &:after {\n    content: \"\";\n    position: absolute;\n\n    top: 0;\n    left: -3.5rem;\n    right: 0;\n    bottom: 0;\n    border-top: 1px dotted var(--subtle-border-color);\n    border-bottom: 1px dotted var(--subtle-border-color);\n  }\n\n  &:before {\n    content: ${(props) => `\"${props.index}. \"`};\n\n    display: inline-block;\n    width: 2rem;\n    margin-left: -2rem;\n\n    font-size: 1.2rem;\n    font-weight: normal;\n\n    opacity: 0.2;\n  }\n`;\n\nconst MarkdownExample = styled.pre`\n  font-size: 10px;\n  background-color: var(--subtle-background-color);\n  opacity: 0.65;\n  padding: 8px 12px;\n  user-select: all;\n`;\n\nconst markdownExampleContent = `\n<p align=\"center\">\n  <img width=\"100%\" src=\"https://example.com/alert.svg\">\n</p>\n`.trim();\n\nexport const Playground: React.FC = (props) => {\n  return (\n    <Root>\n      <RowContainer>\n        <Section>\n          <SectionTitle index={1}>Configure</SectionTitle>\n          <Controls />\n          <Measurer />\n        </Section>\n\n        <Section>\n          <SectionTitle index={2}>Copy source</SectionTitle>\n          <Source />\n        </Section>\n\n        <Section>\n          <SectionTitle index={3}>Upload image</SectionTitle>\n\n          <p>\n            You can use any image hosting provider you'd like. You may also\n            create a new <a href=\"https://gist.github.com/new\">GitHub Gist</a>{\" \"}\n            with the filename ending in <code>.svg</code>, and then copying the\n            raw link.\n          </p>\n        </Section>\n\n        <Section>\n          <SectionTitle index={4}>Add to markdown</SectionTitle>\n\n          <MarkdownExample>{markdownExampleContent}</MarkdownExample>\n        </Section>\n      </RowContainer>\n    </Root>\n  );\n};\n","import React from \"react\";\nimport { Playground } from \"./Playground\";\nimport \"./App.css\";\nimport { ContextProvider } from \"./Playground/context\";\n\nfunction App() {\n  return (\n    <ContextProvider>\n      <Playground />\n    </ContextProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}